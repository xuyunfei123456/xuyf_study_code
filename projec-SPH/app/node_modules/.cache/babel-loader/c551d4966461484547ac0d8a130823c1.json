{"remainingRequest":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\src\\api\\request.js","dependencies":[{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\src\\api\\request.js","mtime":1641300597464},{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\babel.config.js","mtime":1642672032543},{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638364636780},{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1638364638610},{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1638364638144}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8v5a+55LqOYXhpb3Pov5vooYzkuozmrKHlsIHoo4UKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy/lnKjlvZPliY3mqKHlnZfkuK3lvJXlhaVzdG9yZQoKaW1wb3J0IHN0b3JlIGZyb20gIkAvc3RvcmUiOyAvL+W8leWFpei/m+W6puadoQoKaW1wb3J0IG5wcm9ncmVzcyBmcm9tICducHJvZ3Jlc3MnOwppbXBvcnQgIm5wcm9ncmVzcy9ucHJvZ3Jlc3MuY3NzIjsgLy8gY29uc29sZS5sb2cobnByb2dyZXNzKQovL3N0YXJ077ya6L+b5bqm5p2h5byA5aeLICBkb25l77ya6L+b5bqm5p2h57uT5p2fCi8vMe+8muWIqeeUqGF4aW9z5a+56LGh55qE5pa55rOVY3JlYXRl77yM5Y675Yib5bu65LiA5LiqYXhpb3Plrp7kvosKLy8y77yacmVxdXNldHPlsLHmmK9heGlvc++8jOWPquS4jei/h+eojeW+rumFjee9ruS4gOS4iwoKdmFyIHJlcXVzZXRzID0gYXhpb3MuY3JlYXRlKHsKICAvL+mFjee9ruWvueixoQogIC8v5Z+656GA6Lev5b6E77ya5Y+R6K+35rGC55qE5pe25YCZ77yM6Lev5b6E5b2T5Lit5Lya5Ye6546wYXBpCiAgYmFzZVVSTDogJy9hcGknLAogIC8v5Luj6KGo6K+35rGC6LaF5pe255qE5pe26Ze0NXMKICB0aW1lb3V0OiA1MDAwCn0pOyAvL+ivt+axguaLpuaIquWZqO+8muWcqOWPkeivt+axguS5i+WJje+8jOivt+axguaLpuaIquWZqOWPr+S7peajgOa1i+WIsO+8jOWPr+S7peWcqOivt+axguWPkeWHuuS5i+WJjeWBmuS4gOS6m+S6i+aDhQoKcmVxdXNldHMuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvL2NvbmZpZ++8mumFjee9ruWvueixoe+8jOWvueixoemHjOmdouacieS4gOS4quWxnuaAp+W+iOmHjeimge+8jGhlYWRlcnPor7fmsYLlpLQKICBpZiAoc3RvcmUuc3RhdGUuZGV0YWlsLnV1aWRfdG9rZW4pIHsKICAgIC8v57uZ6K+35rGC5aS05re75Yqg5LiA5Liq5a2X5q61KHVzZXJUZW1wSWQp77yM5ZKM5ZCO5Y+w5ZWG6YeP5aW95LqGCiAgICBjb25maWcuaGVhZGVycy51c2VyVGVtcElkID0gc3RvcmUuc3RhdGUuZGV0YWlsLnV1aWRfdG9rZW47CiAgfSAvL+mcgOimgeaQuuW4pnRva2Vu5bim57uZ5pyN5Yqh5ZmoCgoKICBpZiAoc3RvcmUuc3RhdGUudXNlci50b2tlbikgewogICAgY29uZmlnLmhlYWRlcnMudG9rZW4gPSBzdG9yZS5zdGF0ZS51c2VyLnRva2VuOwogIH0gLy/ov5vluqbmnaHlvIDlp4sKCgogIG5wcm9ncmVzcy5zdGFydCgpOwogIHJldHVybiBjb25maWc7Cn0pOwpyZXF1c2V0cy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICAvL+aIkOWKn+eahOWbnuiwg+WHveaVsO+8muacjeWKoeWZqOWTjeW6lOaVsOaNruWbnuadpeS7peWQju+8jOWTjeW6lOaLpuaIquWZqOWPr+S7peajgOa1i+WIsO+8jOWBmuS4gOS6m+S6i+aDhQogIC8v6L+b5bqm5p2h57uT5p2fCiAgbnByb2dyZXNzLmRvbmUoKTsKICByZXR1cm4gcmVzLmRhdGE7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8v5ZON5bqU5aSx6LSl55qE5Zue6LCD5Ye95pWwCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZmFpbGUnKSk7Cn0pOwpleHBvcnQgZGVmYXVsdCByZXF1c2V0czs="},{"version":3,"sources":["C:/Users/98751/Desktop/code/projec-SPH/app/src/api/request.js"],"names":["axios","store","nprogress","requsets","create","baseURL","timeout","interceptors","request","use","config","state","detail","uuid_token","headers","userTempId","user","token","start","response","res","done","data","error","Promise","reject","Error"],"mappings":";AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP,C,CACA;AACA;AAEA;AACA;;AACA,IAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC1B;AACA;AACAC,EAAAA,OAAO,EAAE,MAHiB;AAI1B;AACAC,EAAAA,OAAO,EAAE;AALiB,CAAb,CAAjB,C,CAOA;;AACAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAACC,MAAD,EAAY;AAC1C;AACA,MAAIT,KAAK,CAACU,KAAN,CAAYC,MAAZ,CAAmBC,UAAvB,EAAmC;AAC/B;AACAH,IAAAA,MAAM,CAACI,OAAP,CAAeC,UAAf,GAA4Bd,KAAK,CAACU,KAAN,CAAYC,MAAZ,CAAmBC,UAA/C;AACH,GALyC,CAM1C;;;AACA,MAAIZ,KAAK,CAACU,KAAN,CAAYK,IAAZ,CAAiBC,KAArB,EAA4B;AACxBP,IAAAA,MAAM,CAACI,OAAP,CAAeG,KAAf,GAAuBhB,KAAK,CAACU,KAAN,CAAYK,IAAZ,CAAiBC,KAAxC;AACH,GATyC,CAU1C;;;AACAf,EAAAA,SAAS,CAACgB,KAAV;AACA,SAAOR,MAAP;AACH,CAbD;AAcAP,QAAQ,CAACI,YAAT,CAAsBY,QAAtB,CAA+BV,GAA/B,CAAmC,UAACW,GAAD,EAAS;AACxC;AACA;AACAlB,EAAAA,SAAS,CAACmB,IAAV;AACA,SAAOD,GAAG,CAACE,IAAX;AACH,CALD,EAKG,UAACC,KAAD,EAAW;AACV;AACA,SAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;AACH,CARD;AASA,eAAevB,QAAf","sourcesContent":["//对于axios进行二次封装\r\nimport axios from \"axios\";\r\n//在当前模块中引入store\r\nimport store from \"@/store\";\r\n//引入进度条\r\nimport nprogress from 'nprogress'\r\nimport \"nprogress/nprogress.css\"\r\n// console.log(nprogress)\r\n//start：进度条开始  done：进度条结束\r\n\r\n//1：利用axios对象的方法create，去创建一个axios实例\r\n//2：requsets就是axios，只不过稍微配置一下\r\nconst requsets = axios.create({\r\n    //配置对象\r\n    //基础路径：发请求的时候，路径当中会出现api\r\n    baseURL: '/api',\r\n    //代表请求超时的时间5s\r\n    timeout: 5000\r\n})\r\n//请求拦截器：在发请求之前，请求拦截器可以检测到，可以在请求发出之前做一些事情\r\nrequsets.interceptors.request.use((config) => {\r\n    //config：配置对象，对象里面有一个属性很重要，headers请求头\r\n    if (store.state.detail.uuid_token) {\r\n        //给请求头添加一个字段(userTempId)，和后台商量好了\r\n        config.headers.userTempId = store.state.detail.uuid_token\r\n    }\r\n    //需要携带token带给服务器\r\n    if (store.state.user.token) {\r\n        config.headers.token = store.state.user.token\r\n    }\r\n    //进度条开始\r\n    nprogress.start()\r\n    return config;\r\n})\r\nrequsets.interceptors.response.use((res) => {\r\n    //成功的回调函数：服务器响应数据回来以后，响应拦截器可以检测到，做一些事情\r\n    //进度条结束\r\n    nprogress.done()\r\n    return res.data;\r\n}, (error) => {\r\n    //响应失败的回调函数\r\n    return Promise.reject(new Error('faile'))\r\n})\r\nexport default requsets"]}]}