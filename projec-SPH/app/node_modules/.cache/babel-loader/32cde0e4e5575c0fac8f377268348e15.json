{"remainingRequest":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\src\\store\\detail\\index.js","dependencies":[{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\src\\store\\detail\\index.js","mtime":1641023852925},{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\babel.config.js","mtime":1642672032543},{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638364636780},{"path":"C:\\Users\\98751\\Desktop\\code\\projec-SPH\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1638364638144}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcOTg3NTFcXERlc2t0b3BcXGNvZGVcXHByb2plYy1TUEhcXGFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IHJlcUdvb2RzSW5mbywgcmVxQWRkT3JVcGRhdGVTaG9wQ2FydCB9IGZyb20gIkAvYXBpIjsgLy/lsIHoo4XmuLjlrqLouqvku73mqKHlnZd1dWlkIC0tLT7nlJ/miJDkuIDkuKrpmo/mnLrlrZfnrKbkuLLvvIjkuI3og73lho3lj5jvvIkKCmltcG9ydCB7IGdldFVVSUQgfSBmcm9tICdAL3V0aWxzL3V1aWRfdG9rZW4nOwp2YXIgc3RhdGUgPSB7CiAgZ29vZEluZm86IHt9LAogIC8v5ri45a6i5Li05pe26Lqr5Lu9CiAgdXVpZF90b2tlbjogZ2V0VVVJRCgpCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgR0VUR09PRElORk86IGZ1bmN0aW9uIEdFVEdPT0RJTkZPKHN0YXRlLCBnb29kSW5mbykgewogICAgc3RhdGUuZ29vZEluZm8gPSBnb29kSW5mbzsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8v6I635Y+W5Lqn5ZOB5L+h5oGv55qEYWN0aW9uCiAgZ2V0R29vZEluZm86IGZ1bmN0aW9uIGdldEdvb2RJbmZvKF9yZWYsIHNrdUlkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxR29vZHNJbmZvKHNrdUlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBjb21taXQoJ0dFVEdPT0RJTkZPJywgcmVzdWx0LmRhdGEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIC8v5bCG5Lqn5ZOB5re75Yqg5Yiw6LSt54mp6L2mCiAgYWRkT3JVcGRhdGVTaG9wQ2FydDogZnVuY3Rpb24gYWRkT3JVcGRhdGVTaG9wQ2FydChfcmVmMiwgX3JlZjMpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgY29tbWl0LCBza3VJZCwgc2t1TnVtLCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICAgICAgICAgIHNrdUlkID0gX3JlZjMuc2t1SWQsIHNrdU51bSA9IF9yZWYzLnNrdU51bTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcUFkZE9yVXBkYXRlU2hvcENhcnQoc2t1SWQsIHNrdU51bSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5jb2RlID09IDIwMCkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsICdvaycpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2ZhaWwnKSkpOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTsgLy/nroDljJbmlbDmja4KCnZhciBnZXR0ZXJzID0gewogIGNhdGVnb3J5VmlldzogZnVuY3Rpb24gY2F0ZWdvcnlWaWV3KHN0YXRlKSB7CiAgICAvL+avlOWmgnN0YXRlLmdvb2RJbmZv5Yid5aeL54q25oCB56m65a+56LGh77yM56m65a+56LGh55qEY2F0ZWdvcnlWaWV35bGe5oCn5YC8dW5kZWZpZW5kLAogICAgLy/lvZPliY3orqHnrpflh7rnmoRjYXRlZ29yeVZpZXflsZ7mgKflgLzoh7PlsJHmmK/kuIDkuKrnqbrlr7nosaHvvIzlgYfnmoTmiqXplJnkuI3kvJrmnInkuoYKICAgIHJldHVybiBzdGF0ZS5nb29kSW5mby5jYXRlZ29yeVZpZXcgfHwge307CiAgfSwKICAvL+eugOWMluS6p+WTgeS/oeaBr+aVsOaNrgogIHNrdUluZm86IGZ1bmN0aW9uIHNrdUluZm8oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5nb29kSW5mby5za3VJbmZvIHx8IHt9OwogIH0sCiAgLy/kuqflk4HllK7ljZblsZ7mgKfnmoTnroDljJYKICBzcHVTYWxlQXR0ckxpc3Q6IGZ1bmN0aW9uIHNwdVNhbGVBdHRyTGlzdChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmdvb2RJbmZvLnNwdVNhbGVBdHRyTGlzdCB8fCBbXTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["C:/Users/98751/Desktop/code/projec-SPH/app/src/store/detail/index.js"],"names":["reqGoodsInfo","reqAddOrUpdateShopCart","getUUID","state","goodInfo","uuid_token","mutations","GETGOODINFO","actions","getGoodInfo","skuId","commit","result","code","data","addOrUpdateShopCart","skuNum","Promise","reject","Error","getters","categoryView","skuInfo","spuSaleAttrList"],"mappings":";;;AAAA,SACIA,YADJ,EAEIC,sBAFJ,QAGO,OAHP,C,CAIA;;AACA,SACIC,OADJ,QAEO,oBAFP;AAGA,IAAMC,KAAK,GAAG;AACVC,EAAAA,QAAQ,EAAE,EADA;AAEV;AACAC,EAAAA,UAAU,EAAEH,OAAO;AAHT,CAAd;AAKA,IAAMI,SAAS,GAAG;AACdC,EAAAA,WADc,uBACFJ,KADE,EACKC,QADL,EACe;AACzBD,IAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH;AAHa,CAAlB;AAKA,IAAMI,OAAO,GAAG;AACZ;AACMC,EAAAA,WAFM,6BAITC,KAJS,EAIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADNC,cAAAA,MACM,QADNA,MACM;AAAA;AAAA,qBACaX,YAAY,CAACU,KAAD,CADzB;;AAAA;AACFE,cAAAA,MADE;;AAEN,kBAAIA,MAAM,CAACC,IAAP,IAAe,GAAnB,EAAwB;AACpBF,gBAAAA,MAAM,CAAC,aAAD,EAAgBC,MAAM,CAACE,IAAvB,CAAN;AACH;;AAJK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKT,GATW;AAUZ;AACMC,EAAAA,mBAXM,6CAgBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJCJ,cAAAA,MAID,SAJCA,MAID;AAFCD,cAAAA,KAED,SAFCA,KAED,EADCM,MACD,SADCA,MACD;AAAA;AAAA,qBAKoBf,sBAAsB,CAACS,KAAD,EAAQM,MAAR,CAL1C;;AAAA;AAKKJ,cAAAA,MALL;;AAAA,oBAOKA,MAAM,CAACC,IAAP,IAAe,GAPpB;AAAA;AAAA;AAAA;;AAAA,gDAQY,IARZ;;AAAA;AAAA,gDAUYI,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,MAAV,CAAf,CAVZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYF;AA5BW,CAAhB,C,CA8BA;;AACA,IAAMC,OAAO,GAAG;AACZC,EAAAA,YADY,wBACClB,KADD,EACQ;AAChB;AACA;AACA,WAAOA,KAAK,CAACC,QAAN,CAAeiB,YAAf,IAA+B,EAAtC;AACH,GALW;AAMZ;AACAC,EAAAA,OAPY,mBAOJnB,KAPI,EAOG;AACX,WAAOA,KAAK,CAACC,QAAN,CAAekB,OAAf,IAA0B,EAAjC;AACH,GATW;AAUZ;AACAC,EAAAA,eAXY,2BAWIpB,KAXJ,EAWW;AACnB,WAAOA,KAAK,CAACC,QAAN,CAAemB,eAAf,IAAkC,EAAzC;AACH;AAbW,CAAhB;AAeA,eAAe;AACXpB,EAAAA,KAAK,EAALA,KADW;AAEXG,EAAAA,SAAS,EAATA,SAFW;AAGXE,EAAAA,OAAO,EAAPA,OAHW;AAIXY,EAAAA,OAAO,EAAPA;AAJW,CAAf","sourcesContent":["import {\r\n    reqGoodsInfo,\r\n    reqAddOrUpdateShopCart\r\n} from \"@/api\";\r\n//封装游客身份模块uuid --->生成一个随机字符串（不能再变）\r\nimport {\r\n    getUUID\r\n} from '@/utils/uuid_token'\r\nconst state = {\r\n    goodInfo: {},\r\n    //游客临时身份\r\n    uuid_token: getUUID()\r\n}\r\nconst mutations = {\r\n    GETGOODINFO(state, goodInfo) {\r\n        state.goodInfo = goodInfo\r\n    }\r\n}\r\nconst actions = {\r\n    //获取产品信息的action\r\n    async getGoodInfo({\r\n        commit\r\n    }, skuId) {\r\n        let result = await reqGoodsInfo(skuId)\r\n        if (result.code == 200) {\r\n            commit('GETGOODINFO', result.data)\r\n        }\r\n    },\r\n    //将产品添加到购物车\r\n    async addOrUpdateShopCart({\r\n        commit\r\n    }, {\r\n        skuId,\r\n        skuNum\r\n    }) {\r\n        //加入购物车返回的解构\r\n        //加入购物车以后（发请求），前台将参数带给服务器\r\n        //服务器写入数据成功，并没有返回其他的数据，只是返回code=200,代表这次操作成功\r\n        //因为服务器没有返回其余数据，因此不需要存储数据\r\n        let result = await reqAddOrUpdateShopCart(skuId, skuNum)\r\n        //当前的这个函数如果执行返回Promise\r\n        if (result.code == 200) {\r\n            return 'ok'\r\n        } else {\r\n            return Promise.reject(new Error('fail'))\r\n        }\r\n    }\r\n}\r\n//简化数据\r\nconst getters = {\r\n    categoryView(state) {\r\n        //比如state.goodInfo初始状态空对象，空对象的categoryView属性值undefiend,\r\n        //当前计算出的categoryView属性值至少是一个空对象，假的报错不会有了\r\n        return state.goodInfo.categoryView || {}\r\n    },\r\n    //简化产品信息数据\r\n    skuInfo(state) {\r\n        return state.goodInfo.skuInfo || {}\r\n    },\r\n    //产品售卖属性的简化\r\n    spuSaleAttrList(state) {\r\n        return state.goodInfo.spuSaleAttrList || []\r\n    }\r\n}\r\nexport default {\r\n    state,\r\n    mutations,\r\n    actions,\r\n    getters,\r\n}"]}]}