{"remainingRequest":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\98751\\Desktop\\code\\后台管理系统\\src\\views\\product\\Sku\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\src\\views\\product\\Sku\\index.vue","mtime":1645865044004},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643016933534},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\babel-loader\\lib\\index.js","mtime":1643016934935},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643016933534},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\vue-loader\\lib\\index.js","mtime":1643016935387}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTa3UiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwYWdlOiAxLCAvL+S7o+ihqOW9k+WJjeesrOWHoOmhtQ0KICAgICAgbGltaXQ6IDEwLCAvL+S7o+ihqOW9k+WJjemhtemdouacieWHoOadoeaVsOaNrg0KICAgICAgcmVjb3JkczogW10sIC8v5a2Y5YKoc2t15YiX6KGo55qE5pWw5o2uDQogICAgICB0b3RhbDogMCwgLy/lrZjlgqjliIbpobXlmajkuIDlhbHlsZXnpLrnmoTmlbDmja4NCiAgICAgIHNrdUluZm86IHt9LCAvL+WtmOWCqHNrdeS/oeaBrw0KICAgICAgc2hvdzogZmFsc2UsDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldFNrdUxpc3QoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8v6I635Y+Wc2t15YiX6KGo5pWw5o2u55qE5pa55rOVDQogICAgYXN5bmMgZ2V0U2t1TGlzdChwYWdlcyA9IDEpIHsNCiAgICAgIHRoaXMucGFnZSA9IHBhZ2VzOw0KICAgICAgY29uc3QgeyBwYWdlLCBsaW1pdCB9ID0gdGhpczsNCiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRBUEkuc2t1LnJlcVNrdUxpc3QocGFnZSwgbGltaXQpOw0KICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICB0aGlzLnJlY29yZHMgPSByZXMuZGF0YS5yZWNvcmRzOw0KICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVTaXplQ2hhbmdlKGxpbWl0KSB7DQogICAgICAvL+S/ruaUueWPguaVsA0KICAgICAgdGhpcy5saW1pdCA9IGxpbWl0Ow0KICAgICAgdGhpcy5nZXRTa3VMaXN0KCk7DQogICAgfSwNCiAgICAvL+S4iuaetg0KICAgIGFzeW5jIHNhbGUocm93KSB7DQogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kQVBJLnNrdS5yZXFTYWxlKHJvdy5pZCk7DQogICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgIHJvdy5pc1NhbGUgPSAxOw0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAi5LiK5p625oiQ5YqfIiB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5LiL5p62DQogICAgYXN5bmMgY2FuY2VsKHJvdykgew0KICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJEFQSS5za3UucmVxQ2FuY2VsKHJvdy5pZCk7DQogICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7DQogICAgICAgIHJvdy5pc1NhbGUgPSAwOw0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAi5LiL5p625oiQ5YqfIiB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGVkaXQoKSB7DQogICAgICB0aGlzLiRtZXNzYWdlKCLmraPlnKjlvIDlj5HkuK0iKTsNCiAgICB9LA0KICAgIC8v6I635Y+Wc2t16K+m5oOF55qE5pa55rOVDQogICAgYXN5bmMgZ2V0U2t1SW5mbyhza3UpIHsNCiAgICAgIC8v5bGV56S65oq95bGJDQogICAgICB0aGlzLnNob3cgPSB0cnVlOw0KICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJEFQSS5za3UucmVxU2t1QnlJZChza3UuaWQpOw0KICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICB0aGlzLnNrdUluZm8gPSByZXMuZGF0YTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product/Sku","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 表格 -->\r\n    <el-table style=\"width: 100%\" border :data=\"records\">\r\n      <el-table-column\r\n        type=\"index\"\r\n        label=\"序号\"\r\n        width=\"80\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"skuName\"\r\n        label=\"名称\"\r\n        width=\"width\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"skuDesc\"\r\n        label=\"描述\"\r\n        width=\"width\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"默认图片\" width=\"110\" align=\"center\">\r\n        <template slot-scope=\"{ row, $index }\">\r\n          <img\r\n            :src=\"row.skuDefaultImg\"\r\n            alt=\"\"\r\n            style=\"width: 80px; height: 80px\"\r\n          />\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"weight\"\r\n        label=\"重量\"\r\n        width=\"70\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column\r\n        prop=\"price\"\r\n        label=\"价格\"\r\n        width=\"80\"\r\n        align=\"center\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"操作\" width=\"width\" align=\"center\">\r\n        <template slot-scope=\"{ row, $index }\">\r\n          <el-button\r\n            type=\"success\"\r\n            icon=\"el-icon-sort-down\"\r\n            size=\"mini\"\r\n            v-if=\"row.isSale == 0\"\r\n            @click=\"sale(row)\"\r\n          ></el-button>\r\n          <el-button\r\n            type=\"success\"\r\n            icon=\"el-icon-sort-up\"\r\n            size=\"mini\"\r\n            v-else\r\n            @click=\"cancel(row)\"\r\n          ></el-button>\r\n          <el-button\r\n            type=\"primary\"\r\n            icon=\"el-icon-edit\"\r\n            size=\"mini\"\r\n            @click=\"edit\"\r\n          ></el-button>\r\n          <el-button\r\n            type=\"info\"\r\n            icon=\"el-icon-info\"\r\n            size=\"mini\"\r\n            @click=\"getSkuInfo(row)\"\r\n          ></el-button>\r\n          <el-button\r\n            type=\"danger\"\r\n            icon=\"el-icon-delete\"\r\n            size=\"mini\"\r\n          ></el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      @current-change=\"getSkuList\"\r\n      @size-change=\"handleSizeChange\"\r\n      :current-page=\"page\"\r\n      :page-size=\"10\"\r\n      :page-sizes=\"[10, 20]\"\r\n      layout=\"prev, pager, next,jumper,->,sizes,total\"\r\n      :total=\"20\"\r\n    >\r\n    </el-pagination>\r\n    <!-- 抽屉效果 -->\r\n    <el-drawer :visible.sync=\"show\" :show-close=\"false\" size=\"50%\">\r\n      <el-row>\r\n        <el-col :span=\"5\">名称</el-col>\r\n        <el-col :span=\"16\">{{ skuInfo.skuName }}</el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"5\">描述</el-col>\r\n        <el-col :span=\"16\">{{ skuInfo.skuDesc }}</el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"5\">价格</el-col>\r\n        <el-col :span=\"16\">{{ skuInfo.price }}元</el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"5\">平台属性</el-col>\r\n        <el-col :span=\"16\">\r\n          <template slot-scope=\"{ row, $index }\">\r\n            <el-tag\r\n              type=\"success\"\r\n              v-for=\"(attr, index) in row.skuAttrValueList\"\r\n              :key=\"attr.id\"\r\n              style=\"margin-right: 10px\"\r\n              >{{ attr.attrId }}-{{ attr.valueId }}</el-tag\r\n            >\r\n          </template>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"5\">商品图片</el-col>\r\n        <el-col :span=\"16\">\r\n          <el-carousel height=\"150px\">\r\n            <el-carousel-item\r\n              v-for=\"item in skuInfo.skuImageList\"\r\n              :key=\"item.id\"\r\n            >\r\n              <img :src=\"item.imgUrl\" alt=\"\" />\r\n            </el-carousel-item>\r\n          </el-carousel>\r\n        </el-col>\r\n      </el-row>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Sku\",\r\n  data() {\r\n    return {\r\n      page: 1, //代表当前第几页\r\n      limit: 10, //代表当前页面有几条数据\r\n      records: [], //存储sku列表的数据\r\n      total: 0, //存储分页器一共展示的数据\r\n      skuInfo: {}, //存储sku信息\r\n      show: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getSkuList();\r\n  },\r\n  methods: {\r\n    //获取sku列表数据的方法\r\n    async getSkuList(pages = 1) {\r\n      this.page = pages;\r\n      const { page, limit } = this;\r\n      let res = await this.$API.sku.reqSkuList(page, limit);\r\n      if (res.code == 200) {\r\n        this.records = res.data.records;\r\n        this.total = res.data.total;\r\n      }\r\n    },\r\n    handleSizeChange(limit) {\r\n      //修改参数\r\n      this.limit = limit;\r\n      this.getSkuList();\r\n    },\r\n    //上架\r\n    async sale(row) {\r\n      let res = await this.$API.sku.reqSale(row.id);\r\n      if (res.code == 200) {\r\n        row.isSale = 1;\r\n        this.$message({ type: \"success\", message: \"上架成功\" });\r\n      }\r\n    },\r\n    //下架\r\n    async cancel(row) {\r\n      let res = await this.$API.sku.reqCancel(row.id);\r\n      if (res.code == 200) {\r\n        row.isSale = 0;\r\n        this.$message({ type: \"success\", message: \"下架成功\" });\r\n      }\r\n    },\r\n    edit() {\r\n      this.$message(\"正在开发中\");\r\n    },\r\n    //获取sku详情的方法\r\n    async getSkuInfo(sku) {\r\n      //展示抽屉\r\n      this.show = true;\r\n      let res = await this.$API.sku.reqSkuById(sku.id);\r\n      if (res.code == 200) {\r\n        this.skuInfo = res.data;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.el-carousel__item h3 {\r\n  color: #475669;\r\n  font-size: 14px;\r\n  opacity: 0.75;\r\n  line-height: 150px;\r\n  margin: 0;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n) {\r\n  background-color: #99a9bf;\r\n}\r\n\r\n.el-carousel__item:nth-child(2n + 1) {\r\n  background-color: #d3dce6;\r\n}\r\n</style>\r\n<style scoped>\r\n.el-row .el-col-5 {\r\n  font-size: 18px;\r\n  text-align: right;\r\n}\r\n.el-col-16 {\r\n  margin: 0px 10px;\r\n}\r\n>>> .el-carousel__button {\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  background-color: aqua;\r\n}\r\n</style>"]}]}