{"remainingRequest":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\98751\\Desktop\\code\\后台管理系统\\src\\views\\product\\Spu\\SpuForm\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\src\\views\\product\\Spu\\SpuForm\\index.vue","mtime":1645102564616},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643016933534},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\babel-loader\\lib\\index.js","mtime":1643016934935},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643016933534},{"path":"C:\\Users\\98751\\Desktop\\code\\后台管理系统\\node_modules\\vue-loader\\lib\\index.js","mtime":1643016935387}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRpYWxvZ0ltYWdlVXJsOiAiIiwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgLy9zcHXlsZ7mgKfliJ3lp4vljJbnmoTml7blgJnmmK/kuIDkuKrnqbrlr7nosaHvvIzlnKjkv67mlLlzcHXnmoTml7blgJnvvIzkvJrlkJHmnI3liqHlmajlj5Hor7fmsYLvvIzov5Tlm55zcHXkv6Hmga/vvIzlnKjkv67mlLnnmoTml7blgJnlj6/ku6XliKnnlKjmnI3liqHlmajov5Tlm57nmoTov5nkuKrlr7nosaHmlLbpm4bmnIDmlrDnmoTmlbDmja7mj5DkuqTnu5nmnI3liqHlmagNCiAgICAgIC8v5re75Yqgc3B15rKh5aaC5p6c5piv5re75Yqgc3B155qE5pe25YCZ5bm25rKh5pyJ5ZCR5pyN5Yqh5Zmo5Y+R6K+35rGCDQogICAgICBzcHU6IHsNCiAgICAgICAgY2F0ZWdvcnkzSWQ6IDAsIC8v5LiJ57qn5YiG57G755qESUQNCiAgICAgICAgdG1JZDogMCwgLy/lubPlj7BpZA0KICAgICAgICBkZXNjcmlwdGlvbjogIiIsIC8v5o+P6L+wDQogICAgICAgIHNwdUltYWdlTGlzdDogWw0KICAgICAgICAgIC8v5pS26ZuGc3B15Zu+54mH55qE5L+h5oGvDQogICAgICAgICAgew0KICAgICAgICAgICAgaWQ6IDAsDQogICAgICAgICAgICBpbWdOYW1lOiAiIiwNCiAgICAgICAgICAgIGltZ1VybDogIiIsDQogICAgICAgICAgICBzcHVJZDogMCwNCiAgICAgICAgICB9LA0KICAgICAgICBdLA0KICAgICAgICBzcHVOYW1lOiAiIiwgLy9zcHXlkI3np7ANCiAgICAgICAgc3B1U2FsZUF0dHJMaXN0OiBbDQogICAgICAgICAgLy/lubPlj7DlsZ7mgKfkuI7lsZ7mgKflgLznmoTmlLbpm4YNCiAgICAgICAgICB7DQogICAgICAgICAgICBiYXNlU2FsZUF0dHJJZDogMCwNCiAgICAgICAgICAgIGlkOiAwLA0KICAgICAgICAgICAgc2FsZUF0dHJOYW1lOiAiIiwNCiAgICAgICAgICAgIHNwdUlkOiAwLA0KICAgICAgICAgICAgc3B1U2FsZUF0dHJWYWx1ZUxpc3Q6IFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGJhc2VTYWxlQXR0cklkOiAwLA0KICAgICAgICAgICAgICAgIGlkOiAwLA0KICAgICAgICAgICAgICAgIGlzQ2hlY2tlZDogIiIsDQogICAgICAgICAgICAgICAgc2FsZUF0dHJOYW1lOiAiIiwNCiAgICAgICAgICAgICAgICBzYWxlQXR0clZhbHVlTmFtZTogIiIsDQogICAgICAgICAgICAgICAgc3B1SWQ6IDAsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LCAvL+WtmOWCqHNwdeS/oeaBr+WxnuaApw0KICAgICAgdHJhZGVNYXJrTGlzdDogW10sIC8v5a2Y5YKo5ZOB54mM5L+h5oGvDQogICAgICBzcHVJbWdMaXN0OiBbXSwgLy/lrZjlgqhzcHXlm77niYfnmoTmlbDmja4NCiAgICAgIHNhbGVBdHRyTGlzdDogW10sIC8v6ZSA5ZSu5bGe5oCn55qE5pWw5o2uDQogICAgICBhdHRySWQ6ICIiLCAvL+aUtumbhuacqumAieaLqeeahOmUgOWUruWxnuaAp+eahElEDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAvL+iuoeeul+WHuui/mOacqumAieaLqeeahOmUgOWUruWxnuaApw0KICAgIHVuU2VsZWN0U2FsZUF0dHIoKSB7DQogICAgICByZXR1cm4gdGhpcy5zYWxlQXR0ckxpc3QuZmlsdGVyKChpdGVtKSA9PiB7DQogICAgICAgIHJldHVybiB0aGlzLnNwdS5zcHVTYWxlQXR0ckxpc3QuZXZlcnkoKGl0ZW0xKSA9PiB7DQogICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSAhPSBpdGVtMS5zYWxlQXR0ck5hbWU7DQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgdGhpcy5zcHVJbWdMaXN0ID0gZmlsZUxpc3Q7DQogICAgfSwNCiAgICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSkgew0KICAgICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9IGZpbGUudXJsOw0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsNCiAgICB9LA0KICAgIC8v54Wn54mH5aKZ5Zu+54mH5LiK5Lyg5oiQ5Yqf55qE5Zue6LCDDQogICAgaGFuZGxlU3VjY2VzcyhyZXNwb25zZSwgZmlsZSwgZmlsZUxpc3QpIHsNCiAgICAgIHRoaXMuc3B1SW1nTGlzdCA9IGZpbGVMaXN0Ow0KICAgIH0sDQogICAgLy/liJ3lp4vljJZzcHVGb3Jt5pWw5o2uDQogICAgYXN5bmMgaW5pdFNwdURhdGEoc3B1KSB7DQogICAgICBsZXQgc3B1UmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFTcHUoc3B1LmlkKTsNCiAgICAgIGlmIChzcHVSZXN1bHQuY29kZSA9PSAyMDApIHsNCiAgICAgICAgdGhpcy5zcHUgPSBzcHVSZXN1bHQuZGF0YTsNCiAgICAgIH0NCiAgICAgIC8v6I635Y+W5ZOB54mM5L+h5oGvDQogICAgICBsZXQgdHJhZGVNYXJrUmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFUcmFkZU1hcmtMaXN0KCk7DQogICAgICBpZiAodHJhZGVNYXJrUmVzdWx0LmNvZGUgPT0gMjAwKSB7DQogICAgICAgIHRoaXMudHJhZGVNYXJrTGlzdCA9IHRyYWRlTWFya1Jlc3VsdC5kYXRhOw0KICAgICAgfQ0KICAgICAgLy/ojrflj5ZzcHXlm77niYfnmoTmlbDmja4NCiAgICAgIGxldCBzcHVJbWdSZXN1bHQgPSBhd2FpdCB0aGlzLiRBUEkuc3B1LnJlcVNwdUltYWdlTGlzdChzcHUuaWQpOw0KICAgICAgaWYgKHNwdUltZ1Jlc3VsdC5jb2RlID09IDIwMCkgew0KICAgICAgICBsZXQgbHNpdEF0dHIgPSBzcHVJbWdSZXN1bHQuZGF0YTsNCiAgICAgICAgLy/nlLHkuo7nhafniYflopnmmL7npLrlm77niYfnmoTmlbDmja7pnIDopoHmlbDnu4TvvIzmlbDnu4Tph4zpnaLnmoTlhYPntKDpnIDopoHmnIluYW1l5ZKMdXJs5a2X5q61DQogICAgICAgIC8v6ZyA6KaB5oqK5pyN5Yqh5Zmo6L+U5Zue55qE5pWw5o2u6L+b6KGM5L+u5pS5DQogICAgICAgIGxzaXRBdHRyLmZvckVhY2goKGl0ZW0pID0+IHsNCiAgICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLmltZ05hbWU7DQogICAgICAgICAgaXRlbS51cmwgPSBpdGVtLmltZ1VybDsNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuc3B1SW1nTGlzdCA9IGxzaXRBdHRyOw0KICAgICAgfQ0KICAgICAgLy/ojrflj5blubPlj7Dlhajpg6jnmoTplIDllK7lsZ7mgKcNCiAgICAgIGxldCBzYWxlUmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFCYXNlU2FsZUF0dHJMaXN0KCk7DQogICAgICBpZiAoc2FsZVJlc3VsdC5jb2RlID09IDIwMCkgew0KICAgICAgICB0aGlzLnNhbGVBdHRyTGlzdCA9IHNhbGVSZXN1bHQuZGF0YTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5re75Yqg5paw55qE6ZSA5ZSu5bGe5oCnDQogICAgYXR0U2FsZUF0dHIoKSB7DQogICAgICAvL+W3sue7j+aUtumbhumcgOimgea3u+WKoOeahOmUgOWUruWxnuaAp+eahOS/oeaBryAgIOaKiuaUtumbhuWIsOeahOmUgOWUruWxnuaAp+aVsOaNrui/m+ihjOWIhuWJsg0KICAgICAgY29uc3QgW2Jhc2VTYWxlQXR0cklkLCBzYWxlQXR0ck5hbWVdID0gdGhpcy5hdHRySWQuc3BsaXQoIjoiKTsNCiAgICAgIC8v5ZCRc3B15a+56LGh55qEc3B1U2FsZUF0dHJMaXN05bGe5oCn6YeM6Z2i5re75Yqg5paw55qE6ZSA5ZSu5bGe5oCnDQogICAgICBsZXQgbmV3U2FsZUF0dHIgPSB7DQogICAgICAgIGJhc2VTYWxlQXR0cklkLA0KICAgICAgICBzYWxlQXR0ck5hbWUsDQogICAgICAgIHNwdVNhbGVBdHRyVmFsdWVMaXN0OiBbXSwNCiAgICAgIH07DQogICAgICB0aGlzLnNwdS5zcHVTYWxlQXR0ckxpc3QucHVzaChuZXdTYWxlQXR0cik7DQogICAgICB0aGlzLmF0dHJJZCA9ICIiOw0KICAgIH0sDQogICAgLy/mt7vliqDmjInpkq7nmoTlm57osIMNCiAgICBhZGRTYWxlQXR0clZhbHVlKHJvdykgew0KICAgICAgdGhpcy4kc2V0KHJvdywgImlucHV0VmlzaWJsZSIsIHRydWUpOw0KICAgICAgdGhpcy4kc2V0KHJvdywgImlucHV0VmFsdWUiLCAiIik7DQogICAgfSwNCiAgICAvL+WkseWOu+eEpueCueS6i+S7tg0KICAgIGhhbmRsZUlucHV0Q29uZmlybShyb3cpIHsNCiAgICAgIGNvbnN0IHsgYmFzZVNhbGVBdHRySWQsIGlucHV0VmFsdWUgfSA9IHJvdzsNCiAgICAgIGlmIChpbnB1dFZhbHVlLnRyaW0oKSA9PSAiIikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlKCLlsZ7mgKflgLzkuI3og73kuLrnqboiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy/lsZ7mgKflgLzkuI3og73ph43lpI0NCiAgICAgIGxldCByZXMgPSByb3cuc3B1U2FsZUF0dHJWYWx1ZUxpc3QuZXZlcnkoDQogICAgICAgIChpdGVtKSA9PiBpdGVtLnNhbGVBdHRyVmFsdWVOYW1lICE9IGlucHV0VmFsdWUNCiAgICAgICk7DQogICAgICBpZiAoIXJlcykgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICAvL+aWsOWinueahOmUgOWUruWxnuaAp+WAvA0KICAgICAgbGV0IG5ld1NhbGVBdHRyVmFsdWUgPSB7IGJhc2VTYWxlQXR0cklkLCBzYWxlQXR0clZhbHVlTmFtZTogaW5wdXRWYWx1ZSB9Ow0KICAgICAgcm93LnNwdVNhbGVBdHRyVmFsdWVMaXN0LnB1c2gobmV3U2FsZUF0dHJWYWx1ZSk7DQogICAgICByb3cuaW5wdXRWaXNpYmxlID0gZmFsc2U7DQogICAgfSwNCiAgICAvL+S/neWtmOaMiemSrueahOWbnuiwgw0KICAgIGFzeW5jIGFkZE9yVXBkYXRlQXB1KCkgew0KICAgICAgLy/mlbTnkIblj4LmlbA66ZyA6KaB5pW055CG54Wn54mH5aKZ55qE5pWw5o2uDQogICAgICAvL+aQuuW4puWPguaVsO+8muWvueS6juWbvueJh++8jOmcgOimgeaQuuW4pmltZ05hbWXkuI5pbWdVcmzlrZfmrrUNCiAgICAgIHRoaXMuc3B1LnNwdUltYWdlTGlzdCA9IHRoaXMuc3B1SW1nTGlzdC5tYXAoKGl0ZW0pID0+IHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBpbWdOYW1lOiBpdGVtLm5hbWUsDQogICAgICAgICAgaW1nVXJsOiAoaXRlbS5yZXNwb25zZSAmJiBpdGVtLnJlc3BvbnNlLmRhdGEpIHx8IGl0ZW0udXJsLA0KICAgICAgICB9Ow0KICAgICAgfSk7DQogICAgICAvL+WPkeivt+axgg0KICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJEFQSS5zcHUucmVxQWRkT3JVcGRhdGVTcHUodGhpcy5zcHUpOw0KICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgew0KICAgICAgICAvL+aPkOekug0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsgdHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAi5L+d5a2Y5oiQ5YqfIiB9KTsNCiAgICAgICAgLy/pgJrnn6XniLbnu4Tku7blm57liLDlnLrmma8wDQogICAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVNjZW5lIiwgew0KICAgICAgICAgIHNjZW5lOiAwLA0KICAgICAgICAgIGZsYWc6IHRoaXMuc3B1LmlkID8gIuS/ruaUuSIgOiAi5re75YqgIiwNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsIHRoaXMuJG9wdGlvbnMuZGF0YSgpKTsNCiAgICB9LA0KICAgIC8v54K55Ye75re75Yqgc3B15oyJ6ZKu55qE5pe25YCZ77yM5Y+R6K+35rGC55qE5Ye95pWwDQogICAgYXN5bmMgYWRkU3B1RGF0YShjYXRlZ29yeTNJZCkgew0KICAgICAgLy/mt7vliqBzcHXnmoTml7blgJnmlLbpm4bkuInnuqfliIbnsbvnmoRpZA0KICAgICAgdGhpcy5zcHUuY2F0ZWdvcnkzSWQgPSBjYXRlZ29yeTNJZDsNCiAgICAgIC8v6I635Y+W5ZOB54mM5L+h5oGvDQogICAgICBsZXQgdHJhZGVNYXJrUmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFUcmFkZU1hcmtMaXN0KCk7DQogICAgICBpZiAodHJhZGVNYXJrUmVzdWx0LmNvZGUgPT0gMjAwKSB7DQogICAgICAgIHRoaXMudHJhZGVNYXJrTGlzdCA9IHRyYWRlTWFya1Jlc3VsdC5kYXRhOw0KICAgICAgfQ0KICAgICAgLy/ojrflj5blubPlj7Dlhajpg6jnmoTplIDllK7lsZ7mgKcNCiAgICAgIGxldCBzYWxlUmVzdWx0ID0gYXdhaXQgdGhpcy4kQVBJLnNwdS5yZXFCYXNlU2FsZUF0dHJMaXN0KCk7DQogICAgICBpZiAoc2FsZVJlc3VsdC5jb2RlID09IDIwMCkgew0KICAgICAgICB0aGlzLnNhbGVBdHRyTGlzdCA9IHNhbGVSZXN1bHQuZGF0YTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5Y+W5raI5oyJ6ZKuDQogICAgY2FuY2VsKCkgew0KICAgICAgLy/lj5bmtojmjInpkq7nmoTlm57osIPvvIzpgJrnn6XniLbkurLliIfmjaLlnLrmma/kuLowDQogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2VTY2VuZSIsIHsgc2NlbmU6IDAsIGZsYWc6ICIiIH0pOw0KICAgICAgLy/muIXnkIbmlbDmja4NCiAgICAgIC8v57uE5Lu25a6e5L6LdGhpcy5fZGF0Ye+8jOWPr+S7peaTjeS9nGRhdGHlvZPkuK3lk43lupTlvI/mlbDmja4NCiAgICAgIC8vIHRoaXMuJG9wdGlvbnPlj6/ku6Xojrflj5bphY3nva7lr7nosaHvvIzphY3nva7lr7nosaHnmoRkYXRh5Ye95pWw5omn6KGM77yM6L+U5Zue55qE5ZON5bqU5byP5pWw5o2u5Li656m655qEDQogICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2RhdGEsIHRoaXMuJG9wdGlvbnMuZGF0YSgpKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/product/Spu/SpuForm","sourcesContent":["<template>\r\n  <div>\r\n    <el-form ref=\"form\" label-width=\"80px\" :model=\"spu\">\r\n      <el-form-item label=\"SPU名称\">\r\n        <el-input placeholder=\"SPU名称\" v-model=\"spu.spuName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"品牌\">\r\n        <el-select placeholder=\"请选择品牌\" v-model=\"spu.tmId\">\r\n          <el-option\r\n            :label=\"tm.name\"\r\n            :value=\"tm.id\"\r\n            v-for=\"(tm, index) in tradeMarkList\"\r\n            :key=\"tm.id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"SPU描述\">\r\n        <el-input\r\n          placeholder=\"描述\"\r\n          type=\"textarea\"\r\n          rows=\"4\"\r\n          v-model=\"spu.description\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"SPU图片\">\r\n        <!-- 上传图片 action图片上传的地址   list-type文件列表的类型 on-preview图片预览的时候会触发 on-remove当删除图片的时候会触发 file-list照片墙展示的数据，数据里的元素必须有name和url属性-->\r\n        <el-upload\r\n          action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n          list-type=\"picture-card\"\r\n          :on-preview=\"handlePictureCardPreview\"\r\n          :on-remove=\"handleRemove\"\r\n          :on-success=\"handleSuccess\"\r\n          :file-list=\"spuImgList\"\r\n        >\r\n          <i class=\"el-icon-plus\"></i>\r\n        </el-upload>\r\n        <el-dialog :visible.sync=\"dialogVisible\">\r\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\r\n        </el-dialog>\r\n      </el-form-item>\r\n      <el-form-item label=\"销售属性\">\r\n        <el-select\r\n          :placeholder=\"`还有${unSelectSaleAttr.length}未选择`\"\r\n          v-model=\"attrId\"\r\n        >\r\n          <el-option\r\n            :label=\"unSelect.name\"\r\n            :value=\"`${unSelect.id}:${unSelect.name}`\"\r\n            v-for=\"(unSelect, index) in unSelectSaleAttr\"\r\n            :key=\"unSelect.id\"\r\n          ></el-option>\r\n        </el-select>\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"el-icon-plus\"\r\n          :disabled=\"!attrId\"\r\n          @click=\"attSaleAttr\"\r\n          >添加销售属性</el-button\r\n        >\r\n        <!-- 展示的是当前spu属性自己的销售属性 -->\r\n        <el-table style=\"width: 100%\" border :data=\"spu.spuSaleAttrList\">\r\n          <el-table-column\r\n            align=\"center\"\r\n            type=\"index\"\r\n            label=\"序号\"\r\n            width=\"80\"\r\n          ></el-table-column>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"saleAttrName\"\r\n            label=\"属性名\"\r\n            width=\"width\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"prop\"\r\n            label=\"属性值名称列表\"\r\n            width=\"width\"\r\n          >\r\n            <template slot-scope=\"{ row, $index }\">\r\n              <el-tag\r\n                :key=\"tag.id\"\r\n                v-for=\"(tag, index) in row.spuSaleAttrValueList\"\r\n                closable\r\n                :disable-transitions=\"false\"\r\n                @close=\"row.spuSaleAttrValueList.splice(index, 1)\"\r\n              >\r\n                {{ tag.saleAttrValueName }}\r\n              </el-tag>\r\n              <el-input\r\n                class=\"input-new-tag\"\r\n                v-if=\"row.inputVisible\"\r\n                v-model=\"row.inputValue\"\r\n                ref=\"saveTagInput\"\r\n                size=\"small\"\r\n                @keyup.enter.native=\"handleInputConfirm\"\r\n                @blur=\"handleInputConfirm(row)\"\r\n              >\r\n              </el-input>\r\n              <el-button\r\n                v-else\r\n                class=\"button-new-tag\"\r\n                size=\"small\"\r\n                @click=\"addSaleAttrValue(row)\"\r\n                >添加</el-button\r\n              >\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            align=\"center\"\r\n            prop=\"prop\"\r\n            label=\"操作\"\r\n            width=\"width\"\r\n          >\r\n            <template slot-scope=\"{ row, $index }\">\r\n              <el-button\r\n                type=\"danger\"\r\n                icon=\"el-icon-delete\"\r\n                size=\"mini\"\r\n                @click=\"spu.spuSaleAttrList.splice($index, 1)\"\r\n              ></el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"addOrUpdateApu\">保存</el-button>\r\n        <el-button type=\"primary\" @click=\"cancel\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogImageUrl: \"\",\r\n      dialogVisible: false,\r\n      //spu属性初始化的时候是一个空对象，在修改spu的时候，会向服务器发请求，返回spu信息，在修改的时候可以利用服务器返回的这个对象收集最新的数据提交给服务器\r\n      //添加spu没如果是添加spu的时候并没有向服务器发请求\r\n      spu: {\r\n        category3Id: 0, //三级分类的ID\r\n        tmId: 0, //平台id\r\n        description: \"\", //描述\r\n        spuImageList: [\r\n          //收集spu图片的信息\r\n          {\r\n            id: 0,\r\n            imgName: \"\",\r\n            imgUrl: \"\",\r\n            spuId: 0,\r\n          },\r\n        ],\r\n        spuName: \"\", //spu名称\r\n        spuSaleAttrList: [\r\n          //平台属性与属性值的收集\r\n          {\r\n            baseSaleAttrId: 0,\r\n            id: 0,\r\n            saleAttrName: \"\",\r\n            spuId: 0,\r\n            spuSaleAttrValueList: [\r\n              {\r\n                baseSaleAttrId: 0,\r\n                id: 0,\r\n                isChecked: \"\",\r\n                saleAttrName: \"\",\r\n                saleAttrValueName: \"\",\r\n                spuId: 0,\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      }, //存储spu信息属性\r\n      tradeMarkList: [], //存储品牌信息\r\n      spuImgList: [], //存储spu图片的数据\r\n      saleAttrList: [], //销售属性的数据\r\n      attrId: \"\", //收集未选择的销售属性的ID\r\n    };\r\n  },\r\n  computed: {\r\n    //计算出还未选择的销售属性\r\n    unSelectSaleAttr() {\r\n      return this.saleAttrList.filter((item) => {\r\n        return this.spu.spuSaleAttrList.every((item1) => {\r\n          return item.name != item1.saleAttrName;\r\n        });\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    handleRemove(file, fileList) {\r\n      this.spuImgList = fileList;\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    //照片墙图片上传成功的回调\r\n    handleSuccess(response, file, fileList) {\r\n      this.spuImgList = fileList;\r\n    },\r\n    //初始化spuForm数据\r\n    async initSpuData(spu) {\r\n      let spuResult = await this.$API.spu.reqSpu(spu.id);\r\n      if (spuResult.code == 200) {\r\n        this.spu = spuResult.data;\r\n      }\r\n      //获取品牌信息\r\n      let tradeMarkResult = await this.$API.spu.reqTradeMarkList();\r\n      if (tradeMarkResult.code == 200) {\r\n        this.tradeMarkList = tradeMarkResult.data;\r\n      }\r\n      //获取spu图片的数据\r\n      let spuImgResult = await this.$API.spu.reqSpuImageList(spu.id);\r\n      if (spuImgResult.code == 200) {\r\n        let lsitAttr = spuImgResult.data;\r\n        //由于照片墙显示图片的数据需要数组，数组里面的元素需要有name和url字段\r\n        //需要把服务器返回的数据进行修改\r\n        lsitAttr.forEach((item) => {\r\n          item.name = item.imgName;\r\n          item.url = item.imgUrl;\r\n        });\r\n        this.spuImgList = lsitAttr;\r\n      }\r\n      //获取平台全部的销售属性\r\n      let saleResult = await this.$API.spu.reqBaseSaleAttrList();\r\n      if (saleResult.code == 200) {\r\n        this.saleAttrList = saleResult.data;\r\n      }\r\n    },\r\n    //添加新的销售属性\r\n    attSaleAttr() {\r\n      //已经收集需要添加的销售属性的信息   把收集到的销售属性数据进行分割\r\n      const [baseSaleAttrId, saleAttrName] = this.attrId.split(\":\");\r\n      //向spu对象的spuSaleAttrList属性里面添加新的销售属性\r\n      let newSaleAttr = {\r\n        baseSaleAttrId,\r\n        saleAttrName,\r\n        spuSaleAttrValueList: [],\r\n      };\r\n      this.spu.spuSaleAttrList.push(newSaleAttr);\r\n      this.attrId = \"\";\r\n    },\r\n    //添加按钮的回调\r\n    addSaleAttrValue(row) {\r\n      this.$set(row, \"inputVisible\", true);\r\n      this.$set(row, \"inputValue\", \"\");\r\n    },\r\n    //失去焦点事件\r\n    handleInputConfirm(row) {\r\n      const { baseSaleAttrId, inputValue } = row;\r\n      if (inputValue.trim() == \"\") {\r\n        this.$message(\"属性值不能为空\");\r\n        return;\r\n      }\r\n      //属性值不能重复\r\n      let res = row.spuSaleAttrValueList.every(\r\n        (item) => item.saleAttrValueName != inputValue\r\n      );\r\n      if (!res) {\r\n        return;\r\n      }\r\n      //新增的销售属性值\r\n      let newSaleAttrValue = { baseSaleAttrId, saleAttrValueName: inputValue };\r\n      row.spuSaleAttrValueList.push(newSaleAttrValue);\r\n      row.inputVisible = false;\r\n    },\r\n    //保存按钮的回调\r\n    async addOrUpdateApu() {\r\n      //整理参数:需要整理照片墙的数据\r\n      //携带参数：对于图片，需要携带imgName与imgUrl字段\r\n      this.spu.spuImageList = this.spuImgList.map((item) => {\r\n        return {\r\n          imgName: item.name,\r\n          imgUrl: (item.response && item.response.data) || item.url,\r\n        };\r\n      });\r\n      //发请求\r\n      let res = await this.$API.spu.reqAddOrUpdateSpu(this.spu);\r\n      if (res.code == 200) {\r\n        //提示\r\n        this.$message({ type: \"success\", message: \"保存成功\" });\r\n        //通知父组件回到场景0\r\n        this.$emit(\"changeScene\", {\r\n          scene: 0,\r\n          flag: this.spu.id ? \"修改\" : \"添加\",\r\n        });\r\n      }\r\n      Object.assign(this._data, this.$options.data());\r\n    },\r\n    //点击添加spu按钮的时候，发请求的函数\r\n    async addSpuData(category3Id) {\r\n      //添加spu的时候收集三级分类的id\r\n      this.spu.category3Id = category3Id;\r\n      //获取品牌信息\r\n      let tradeMarkResult = await this.$API.spu.reqTradeMarkList();\r\n      if (tradeMarkResult.code == 200) {\r\n        this.tradeMarkList = tradeMarkResult.data;\r\n      }\r\n      //获取平台全部的销售属性\r\n      let saleResult = await this.$API.spu.reqBaseSaleAttrList();\r\n      if (saleResult.code == 200) {\r\n        this.saleAttrList = saleResult.data;\r\n      }\r\n    },\r\n    //取消按钮\r\n    cancel() {\r\n      //取消按钮的回调，通知父亲切换场景为0\r\n      this.$emit(\"changeScene\", { scene: 0, flag: \"\" });\r\n      //清理数据\r\n      //组件实例this._data，可以操作data当中响应式数据\r\n      // this.$options可以获取配置对象，配置对象的data函数执行，返回的响应式数据为空的\r\n      Object.assign(this._data, this.$options.data());\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.el-tag + .el-tag {\r\n  margin-left: 10px;\r\n}\r\n.button-new-tag {\r\n  margin-left: 10px;\r\n  height: 32px;\r\n  line-height: 30px;\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n}\r\n.input-new-tag {\r\n  width: 90px;\r\n  margin-left: 10px;\r\n  vertical-align: bottom;\r\n}\r\n</style>"]}]}